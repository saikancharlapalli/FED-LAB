<!DOCTYPE html>
<html lang="en">
<head>
    <title>Higher Order Function</title>
</head>
<body>
    <script>

        const products=[
            {name:"Product1",price:20,category:"Electronics"},
            {name:"Product2",price:30,category:"Clothes"},
            {name:"Product3",price:40,category:"Electronics"},
            {name:"Product4",price:50,category:"Clothes"},
            {name:"Product5",price:60,category:"Clothes"},
            {name:"Product6",price:70,category:"Electronics"},
            {name:"Product7",price:80,category:"Clothes"},
            {name:"Product1",price:90,category:"Electronics"},
        ];

    const productByCategory=products.reduce((acc,product)=>{
        const category=product.category;
        if(!acc[category]){
            acc[category]=[];
        }
        acc[category].push(product);
        return acc;
    },{})

    const avgPriceByCategory=Object.keys(productByCategory).map(category=>{
        const sum=productByCategory[category].reduce((acc,product)=>acc+product.price,0);
        return{category:category,average:sum/productByCategory[category].length};
    });

    const highPriceddCategories=avgPriceByCategory.filter(category=>category.average>50);

    console.log(highPriceddCategories);
    </script>
</body>
</html>
